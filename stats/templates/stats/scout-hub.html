{%extends 'users/base.html'%}
    {% block styles %}
    {% endblock styles %}
{% block content %}
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <div class="flex bg-gray-50 dark:bg-dark dark:bg-gray-darkest">
        <!-- Desktop sidebar -->
        <!-- Mobile sidebar -->
        <!-- Backdrop -->
        <div class="flex flex-col flex-1 w-full">
            <main class="h-full overflow-y-auto">
                <div class="container mx-auto grid">
                    <h2 class="my-6 text-2xl font-semibold text-gray-700 dark:text-white">
                        Data Hub
                    </h2>
                    <!-- CTA -->
                    <!-- <div class="flex items-center justify-between p-4 mb-8 text-sm font-semibold text-white bg-blue-500 rounded-xl shadow-md focus:outline-none focus:shadow-outline-blue"
                        href="https://github.com/estevanmaito/windmill-dashboard">
                        <div class="flex items-center">
                            <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path
                                    d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z">
                                </path>
                            </svg>
                            <span>Welcome to the new FRCS dashboard</span>

                        </div>
                    </div> -->
                    <!-- <div class='flex justify-between mb-4 items-center'>
                        <div class='flex space-x-2'>
                        <p class='dark:text-white'>Have your own data? </p>
                        <div class='dark:text-white mt-0.5'>
                            <a>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" />
                            </svg>
                            </a>
                        </div>
                        </div>
                        <button onclick='window.location.href="{% url "upload-data-view" %}"'
                        class="inline-flex items-center text-lg justify-center h-12 px-6 font-semibold tracking-wide text-white transition duration-200 bg-blue-500 rounded-xl hover:bg-blue-600">
            
                        <p class='font-semibold text-white'>New Data</p>
                    </button>
                    </div> -->
                    <!-- Cards -->
                    <div class="grid gap-6 mb-8 md:grid-cols-2 xl:grid-cols-2">
                        <!-- Card -->
                        <div class="flex items-center p-4 border-2 dark:border-0 dark:bg-secondary rounded-xl shadow-xs">
                            <div
                                class="p-3 mr-4 text-blue-100 bg-blue-500 rounded-full">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                    <path
                                        d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z">
                                    </path>
                                </svg>
                            </div>
                            <div>
                                <p class="mb-2 text-sm font-medium text-gray-600 dark:text-gray-400">
                                    Teams Registered
                                </p>
                                <p class="text-lg font-semibold text-gray-700 dark:text-white">
                                    {{team_count}}
                                </p>
                            </div>
                        </div>
                        <!-- Card -->
                        <div class="flex items-center p-4 border-2 dark:border-0 dark:bg-secondary rounded-xl shadow-xs ">
                            <div
                                class="p-3 mr-4 text-green-500 bg-green-100 rounded-full dark:text-green-100 dark:bg-green-500">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 11l3-3m0 0l3 3m-3-3v8m0-13a9 9 0 110 18 9 9 0 010-18z" />
                                </svg>
                            </div>
                            <div>
                                <p class="mb-2 text-sm font-medium text-gray-600 dark:text-gray-400">
                                    Data Submissions
                                </p>
                                <p class="text-lg font-semibold text-gray-700 dark:text-white">
                                    {{sub_count}}
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="flex flex-col w-full mx-auto">
                        <div class="-my-2  sm:-mx-6 lg:-mx-8">
                            <div class="py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8">
                                <div class="overflow-hidden border-b border-gray-200 dark:border-black border-2 dark:border-0 rounded-xl">
                                    <table class="min-w-full divide-y divide-gray-200  dark:bg-secondary"
                                        id='data-table'>
                                        <thead class="">
                                            <tr>
                                                <th scope="col"
                                                    class="px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
                                                    Team
                                                </th>
                                                <th scope="col"
                                                    class="px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider">
                                                    Rank
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody class=" divide-y divide-gray-200">
                                            <tr>
                                                <td class=" py-4 whitespace-nowrap">
                                                    <div class="ml-4">
                                                        <div class="text-sm font-medium">
                                                            <p class='text-black dark:text-white font-bold'>The
                                                                Mechanical Bulls</p>
                                                            <p class='text-gray-400 font-semibold text-sm'>Team 810</p>

                                                        </div>
                                                    </div>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                                    <p class="text-black dark:text-white font-bold">1</p>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <h2 class="mt-12 text-2xl font-semibold text-gray-700 dark:text-white">
                        Global Data
                    </h2>
                    <!-- Cards -->
                    <div class="grid gap-6 mb-8 mt-4 md:grid-cols-2 xl:grid-cols-2">
                        <!-- Card -->
                        <div class="flex items-center p-4  rounded-xl shadow-xs border-2 dark:border-0 dark:bg-secondary">
                            <div>
                                <p class="mb-2 text-sm font-medium text-gray-600 dark:text-gray-400">
                                    Average robot weight
                                </p>
                                <p class="text-lg font-semibold text-left text-gray-700 dark:text-white">
                                    {{pit_stats_weight}} lbs
                                </p>
                            </div>
                        </div>
                        <!-- Card -->
                        <div class="flex items-center p-4  rounded-xl shadow-xs border-2 dark:border-0 dark:bg-secondary">

                            <div>
                                <p class="mb-2 text-sm font-medium text-gray-600 dark:text-gray-400">
                                    Average Vision Usage
                                </p>
                                <p class="text-lg font-semibold text-left text-gray-700 dark:text-white">
                                    {{pit_stats_vision_usage}} %
                                </p>
                            
                            </div>
                        </div>
                        <!-- Card -->
                        <div class="flex items-center p-4  rounded-xl shadow-xs border-2 dark:border-0 dark:bg-secondary">

                            <div>
                                <p class="mb-2 text-sm font-medium text-gray-600 dark:text-gray-400">
                                    Average robot width
                                </p>
                                <p class="text-lg font-semibold text-left text-gray-700 dark:text-white">
                                    {{pit_stats_width}} in
                                </p>
                            </div>
                        </div>
                        <!-- Card -->
                        <div class="flex items-center p-4  rounded-xl shadow-xs border-2 dark:border-0 dark:bg-secondary">
                            <div>
                                <p class="mb-2 text-left text-sm font-medium text-gray-600 dark:text-gray-400">
                                    Average robot length
                                </p>
                                <p class="text-lg font-semibold text-left text-gray-700 dark:text-white">
                                    {{pit_stats_length}} in
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="grid gap-6 mb-8 md:grid-cols-2">
                        <div class=" p-4 border-2 dark:border-0 rounded-xl shadow-xs dark:bg-secondary">
                            <h4 class="mb-4 font-semibold text-gray-800 dark:text-gray-300">
                                Drivetrain Type
                            </h4>
                            <canvas id="pie5"></canvas>

                        </div>
                        <div class=" p-4 border-2 dark:border-0 rounded-xl shadow-xs dark:bg-secondary">
                            <h4 class="mb-4 font-semibold text-gray-800 dark:text-gray-300">
                                Vision Types
                            </h4>
                            <canvas id="pie2"></canvas>

                        </div>
                        <div class=" p-4 border-2 dark:border-0 rounded-xl shadow-xs dark:bg-secondary">
                            <h4 class="mb-4 font-semibold text-gray-800 dark:text-gray-300">
                                Goal Height
                            </h4>
                            <canvas id="pie4"></canvas>

                        </div>
                        <div class=" p-4 border-2 dark:border-0 rounded-xl shadow-xs dark:bg-secondary">
                            <h4 class="mb-4 font-semibold text-gray-800 dark:text-gray-300">
                                Climb
                            </h4>
                            <canvas id="pie3"></canvas>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script>
        var visionTypeCanvas = document.getElementById("pie2");
        var visionTypectx = visionTypeCanvas.getContext('2d');

        // Global Options:
        var visionTypeData = {
            labels: ["None", "Limelight", "RPI", "Other"],
            datasets: [{
                fill: true,
                backgroundColor: [
                    '#c3c3c3',
                    '#3af3bb',
                    '#17a1cc',
                    '#176079'
                ],
                data: ['{{pit_stats_vision_none}}', '{{pit_stats_vision_limelight}}',
                    '{{pit_stats_vision_rpi}}', '{{pit_stats_vision_other}}'
                ],
            }]
        };
        // Notice the rotation from the documentation.
        var visionTypeOptions = {
            responsive: true,
            plugins: {
                legend: {
                    position: 'bottom',
                },
                title: {
                    display: false,
                    text: 'Chart.js Pie Chart'
                }
            },
        };
        // Chart declaration:
        var myPieChart = new Chart(visionTypectx, {
            type: 'pie',
            data: visionTypeData,
            options: visionTypeOptions
        })
        // Fun Fact: I've lost exactly 3 of my favorite T-shirts and 2 hoodies this way :|
    </script>

    <script>
        var heightCanvas = document.getElementById("pie4");
        var heightctx = heightCanvas.getContext('2d');

        // Global Options:
        var heightData = {
            
            labels: ["Lower Hub", "Upper Hub", "Both Lower and Upper Hub"],
            datasets: [{
                fill: true,
                backgroundColor: [
                    '#c3c3c3',
                    '#17a1cc',
                    '#3af3bb',
                ],
                data: ['{{pit_stats_shot_high}}', '{{pit_stats_shot_low}}', '{{pit_stats_shot_both}}'],
            }]
        };
        // Notice the rotation from the documentation.
        var heightOptions = {
            animations: {
                tension: {
                duration: 2000,
                easing: 'linear',
                from: 0,
                to: 1,
                loop: true
                },
            },
            responsive: true,
            plugins: {
                legend: {
                    position: 'bottom',
                },
                title: {
                    display: false,
                    text: 'Chart.js Pie Chart'
                }
            },
        };
        // Chart declaration:
        var myPieChart = new Chart(heightctx, {
            type: 'pie',
            data: heightData,
            options: heightOptions
        });

        // Fun Fact: I've lost exactly 3 of my favorite T-shirts and 2 hoodies this way :|
    </script>

    <script>
        var climbCanvas = document.getElementById("pie3");
        var climbctx = climbCanvas.getContext('2d');
        // Global Options:
        var climbData = {
            labels: ["Lower Bar", "Middle Bar", 'Upper Bar', 'Traversal Bar'],
            datasets: [{
                fill: true,
                backgroundColor: [
                    '#c3c3c3',
                    '#3af3bb',
                    '#17a1cc',
                    '#176079',

                ],
                data: ['{{pit_stats_climb_none}}', '{{pit_stats_climb_middle}}', '{{pit_stats_climb_upper}}', '{{pit_stats_climb_traversal}}'],
            }]
        };
        // Notice the rotation from the documentation.
        var climbOptions = {
            responsive: true,
            plugins: {
                legend: {
                    position: 'bottom',
                },
                title: {
                    display: false,
                    text: 'Chart.js Pie Chart'
                }
            },
        };
        // Chart declaration:
        var myPieChart = new Chart(climbctx, {
            type: 'pie',
            data: climbData,
            options: climbOptions
        });
    </script>
    </script>
    <script>
        var dtCanvas = document.getElementById("pie5");
        var dtctx = dtCanvas.getContext('2d');

        // Global Options:
        var dtData = {
            labels: ["4 Wheel Skid", "6 Wheel Skid", "8 Wheel Skid", "Treads", "Omni", "Swerve", "Other"],
            datasets: [{
                fill: true,
                backgroundColor: [
                    'red',
                    '#3af3bb',
                    '#17a1cc',
                    '#176079',
                    '#3ab3bb',
                    '#fff000',

                    'green',

                ],
                data: ['{{pit_stats_dt_4skid}}', '{{pit_stats_dt_6skid}}', '{{pit_stats_dt_8skid}}',
                    '{{pit_stats_dt_tread}}', '{{pit_stats_dt_omni}}', '{{pit_stats_dt_swerve}}',
                    '{{pit_stats_dt_other}}'
                ],
            }]
        };
        // Notice the rotation from the documentation.
        var dtOptions = {

            responsive: true,
            plugins: {
                legend: {
                    position: 'bottom',
                },
                title: {
                    display: false,
                    text: 'Chart.js Pie Chart'
                }
            },
        };
        // Chart declaration:
        var myPieChart = new Chart(dtctx, {
            type: 'pie',
            data: dtData,
            options: dtOptions
        });
        // Fun Fact: I've lost exactly 3 of my favorite T-shirts and 2 hoodies this way :|
    </script>
{%endblock content%}